# reaper.yml
description: >
  Reaper is a high-performance network scanning tool designed for efficient service
  discovery and asset management. It provides fast and accurate network reconnaissance
  capabilities with modern architecture.

functions:
  reaper_default_scan:
    description: Perform a default network scan
    parameters:
      target:
        type: string
        description: The target IP address or CIDR range to scan
        examples:
          - 192.168.1.1
          - 10.0.0.0/24
          - 127.0.0.1
      ports:
        type: string
        description: Port range to scan
        default: "1-1000"
        examples:
          - "80,443"
          - "1-65535"

    container:
      build:
        path: ${cwd}/reaper.Dockerfile
        name: reaper_local
      args:
        - --net=host
      volumes:
        - ${cwd}:/data

    cmdline:
      - /app/reaper
      - scan
      - ${target}
      - -p
      - ${ports}

  reaper_full_scan:
    description: Perform comprehensive network scan
    parameters:
      target:
        type: string
        description: The target IP address or CIDR range
      ports:
        type: string
        description: Port range to scan
        default: "1-65535"
      threads:
        type: integer
        description: Number of concurrent threads
        default: 1000

    container:
      build:
        path: ${cwd}/reaper.Dockerfile
        name: reaper_local
      args:
        - --net=host
      volumes:
        - ${cwd}:/data

    cmdline:
      - /app/reaper
      - scan
      - ${target}
      - -p
      - ${ports}
      - -t
      - ${threads}
